!function(){let t=[];async function a(){try{const a="http://localhost:3000/api/polizas/",n=await fetch(a);if(!n.ok)throw new Error(`Error ${n.status}: ${n.statusText}`);t=await n.json()}catch(t){console.error("Error al consultar la API:",t)}}async function n(n){0===t.length&&await a();const e=n.currentTarget.dataset.id,d=t.find((t=>t.id==e));if(!d)return void console.error("Unidad no encontrada");const o=document.createElement("DIV");o.classList.add("modal"),o.innerHTML=`\n            <div class="modal-content">\n                <h2 class="modal-content__titulo">Detalles de la Póliza</h2>\n                <table class="tabla-unidad">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>TIPO DE PÓLIZA</th>\n                            <th>BENEFICIARIO</th>\n                            <th>FECHADE INICIO</th>\n                            <th>FECHA FINAL</th>\n                            <th>ENDOSO</th>\n                            <th>ASEGURADORA</th>\n                            \n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td data-label="Número de Unidad">${d.id}</td>\n                            <td data-label="Tipo">${d.t_poliza}</td>\n                            <td data-label="Marca">${d.beneficiario}</td>\n                            <td data-label="Placas">${d.fe_inicio}</td>\n                            <td data-label="Serie">${d.fe_final}</td>\n                            <td data-label="Modelo">${d.endoso_pref}</td>\n                            <td data-label="Año">${d.aseguradora}</td>\n                        </tr>\n                    </tbody>\n                    <thead>\n                        <tr>\n                            <th>GRUPO</th>\n                            <th>SUBGRUPO</th>\n                            <th>NÚMERO DE PÓLIZA</th>\n                            <th>ROBO TOTAL</th>\n                            <th>DANIOS MATERALES</th>\n                            <th>RESP. CÍVIL</th>\n                            <th>COSTO POLIZA</th>\n\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td data-label="Número de Unidad">${d.grupo}</td>\n                            <td data-label="Tipo">${d.subgrupo}</td>\n                            <td data-label="Marca">${d.n_poliza}</td>\n                            <td data-label="Placas">${d.robo_total}</td>\n                            <td data-label="Serie">${d.danios_mat}</td>\n                            <td data-label="Modelo">$${d.resp_civil}</td>\n                            <td data-label="Año">$${d.costo_poliza}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <button type="button" class="cerrar-modal">Cerrar</button>\n            </div>\n        `,document.querySelector("body").appendChild(o),setTimeout((()=>{document.querySelector(".modal-content").classList.add("animar")}),0),o.addEventListener("click",(function(t){if(t.preventDefault(),t.target.classList.contains("cerrar-modal")){document.querySelector(".modal-content").classList.add("cerrar"),setTimeout((()=>{o.remove()}),500)}}))}document.querySelectorAll("#mostrarModal").forEach((t=>{t.addEventListener("click",n)})),a()}();