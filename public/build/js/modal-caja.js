document.addEventListener("DOMContentLoaded",(()=>{let t=[];async function a(){try{const a="http://localhost:3000/api/cajas/",e=await fetch(a);if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);t=await e.json()}catch(t){console.error("Error al consultar la API:",t)}}async function e(e){0===t.length&&await a();const n=e.currentTarget.dataset.id,d=t.find((t=>t.id==n));if(!d)return void console.log("Caja no encontrada");const o=document.createElement("DIV"),{numero_caja:r,c_placas:c,c_serie:l,capacidad:s,c_marca:i,c_anio:u}=d;o.classList.add("modal"),o.innerHTML=`\n            <div class="modal-content">\n                <h2 class="modal-content__titulo">Detalles de la Unidad</h2>\n                <table class="tabla-unidad">\n                    <thead>\n                        <tr>\n                            <th>Número de Remolque</th>\n                            <th>Capacidad</th>\n                            <th>Placas</th>\n                            <th>Marca</th>\n                            <th>Serie</th>\n                            <th>Año</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td data-label="Número de Unidad">${r}</td>\n                            <td data-label="Tipo">${s}</td>\n                            <td data-label="Marca">${c}</td>\n                            <td data-label="Placas">${i}</td>\n                            <td data-label="Serie">${l}</td>\n                            <td data-label="Año">${u}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <button type="button" class="cerrar-modal">Cerrar</button>\n            </div>\n        `,document.querySelector("body").appendChild(o),setTimeout((()=>{document.querySelector(".modal-content").classList.add("animar")}),0),o.addEventListener("click",(function(t){t.preventDefault,t.target.classList.contains("cerrar-modal")&&(document.querySelector(".modal-content").classList.add("cerrar"),setTimeout((()=>{o.remove()}),500))}))}document.querySelectorAll(".mostrarModal").forEach((t=>{t.addEventListener("click",e)})),a()}));